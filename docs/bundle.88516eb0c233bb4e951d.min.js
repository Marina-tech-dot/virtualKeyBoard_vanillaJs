!function(){var t={174:function(t){"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},659:function(t,e,s){var n={"./ArrowLeft.mp3":769,"./ArrowRight.mp3":445,"./Enter.mp3":430,"./Space.mp3":266,"./Tab.mp3":506,"./backspace.mp3":950,"./capsLock.mp3":318,"./lang.mp3":787,"./microphone.mp3":473,"./shift.mp3":860,"./sound.mp3":850,"./writtenKey.mp3":554};function i(t){var e=a(t);return s(e)}function a(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=659},769:function(t,e,s){"use strict";t.exports=s.p+"assets/4d07b928eb653f49e76b.mp3"},445:function(t,e,s){"use strict";t.exports=s.p+"assets/4d07b928eb653f49e76b.mp3"},430:function(t,e,s){"use strict";t.exports=s.p+"assets/83804b84acc395583ed7.mp3"},266:function(t,e,s){"use strict";t.exports=s.p+"assets/fc6a2f0fbf25870faf61.mp3"},506:function(t,e,s){"use strict";t.exports=s.p+"assets/ce303137b5c8fb3903a2.mp3"},950:function(t,e,s){"use strict";t.exports=s.p+"assets/97f5198f97e1fce2079b.mp3"},318:function(t,e,s){"use strict";t.exports=s.p+"assets/fc6a2f0fbf25870faf61.mp3"},787:function(t,e,s){"use strict";t.exports=s.p+"assets/b8d01eb0571acdd075dd.mp3"},473:function(t,e,s){"use strict";t.exports=s.p+"assets/1370fe744d7ad93e877f.mp3"},860:function(t,e,s){"use strict";t.exports=s.p+"assets/a0c2ec8d0e4fca5bb094.mp3"},850:function(t,e,s){"use strict";t.exports=s.p+"assets/1370fe744d7ad93e877f.mp3"},554:function(t,e,s){"use strict";t.exports=s.p+"assets/fc6a2f0fbf25870faf61.mp3"},892:function(t,e,s){"use strict";t.exports=s.p+"assets/17d2419287d03b67e4ac.ico"}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,s),a.exports}s.m=t,s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t;s.g.importScripts&&(t=s.g.location+"");var e=s.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=t}(),s.b=document.baseURI||self.location.href,function(){"use strict";var t=s(174),e=s.n(t),n=new URL(s(892),s.b);e()(n);class i{constructor(t){this.$el="string"==typeof t?document.querySelector(t):t}append(t){return t instanceof i&&(t=t.$el),Element.prototype.append?this.$el.append(t):this.$el.appendChild(t),this}html(t){return"string"==typeof t?(this.$el.innerHTML=t,this):this.$el.outerHTML.trim()}addClass(t){return t&&this.$el.classList.add(...t),this}addClassSetTimeout(t,e){if(t){for(let e=0;e<t.length;e++)this.$el.classList.add(t[e]);setTimeout((()=>{for(let e=0;e<t.length;e++)this.$el.classList.remove(t[e])}),e)}return this}toggleClass(t){return t&&this.$el.classList.toggle(...t),this}toggleClassSetTimeout(t,e){return t&&setTimeout((()=>{for(let e=0;e<t.length;e++)this.$el.classList.toggle(t[e])}),e),this}textContent(t){return t&&(this.$el.textContent=t),this}addDataAttribute(t){if(t)for(let e=0;e<t.length;e++)Object.keys(t[e]).map((s=>{this.$el.setAttribute(`data-${s}`,`${t[e][s]}`)}))}innerText(){return this.$el.innerText}css(t={}){const e=Object.entries(t).map((([t,e])=>`${t}:${e}`)).join(";");return this.$el.style.cssText=`${e}`}on(t,e){this.$el.addEventListener(t,e)}find(t){return this.$el.querySelector(t)}findAll(t){return this.$el.querySelectorAll(t)}children(t,e){return a(e.$el.children[t])}remove(){this.$el.remove()}hasClass(t){return this.$el.classList.contains(...t)}}function a(t){return new i(t)}a.create=(t,e)=>{const s=document.createElement(t);return e&&s.classList.add(e),a(s)};class r{constructor(){this.listeners={}}emit(t,...e){return!!Array.isArray(this.listeners[t])&&(this.listeners[t].forEach((t=>{t(...e)})),!0)}subscribe(t,e){return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),()=>{this.listeners[t]=this.listeners[t].filter((t=>t!==e))}}}function o(){let t,e,s,n;return window.innerWidth>=920&&(t="860px",s="830px"),window.innerWidth<920&&window.innerWidth>=720&&(t="688px",s="660px"),window.innerWidth<720&&(t="452px",s="425px"),window.innerHeight>=800&&(e="368px",n="277px"),window.innerHeight<800&&(e="230px",n="130px"),{monicWidth:t,monicHeight:e,textareaWidth:s,textareaHeight:n}}function c(t={}){return`${Object.entries(t).map((([t,e])=>`${t}:${e}`)).join(";")}`}function l(t){return"string"!=typeof t?"":t.charAt(0).toLowerCase()+t.slice(1)}function d(t,e=null){return e?localStorage.setItem(t,JSON.stringify(e)):JSON.parse(localStorage.getItem(t))}class u{constructor(t){this.store=t,this.sub=null,this.prevState={}}subscribeComponents(t){this.prevState=this.store.getState(),this.sub=this.store.subscribe((e=>{Object.keys(e).forEach((s=>{var n,i;n=this.prevState[s],i=e[s],("object"==typeof n&&"object"==typeof i?JSON.stringify(n)===JSON.stringify(i):n===i)||t.forEach((t=>{if(t.isWatching(s)){const n={[s]:e[s]};t.storeChanged(n)}}))})),this.prevState=this.store.getState()}))}unsubscribeFromStore(){this.sub.unsubscribe()}}class h extends class{constructor(t,e){this.$root=t,this.listeners=e}initDomListeners(){this.listeners.forEach((t=>{const e=`on${s=t,"string"!=typeof s?"":s.charAt(0).toUpperCase()+s.slice(1)}`;var s;if(!this[e])throw new Error(`Method ${e} is not implemented in ${this.name||""} Component`);this[e]=this[e].bind(this),this.$root.on(t,this[e])}))}}{constructor(t,e={}){super(t,e.listeners),this.emitter=e.emitter,this.unsubscribers=[],this.store=e.store,this.subscribe=e.subscribe||[],this.prepare()}prepare(){}init(){this.initDomListeners()}$emit(t,...e){this.emitter.emit(t,...e)}$on(t,e){const s=this.emitter.subscribe(t,e);this.unsubscribers.push(s)}$dispatch(t){this.store.dispatch(t)}storeChanged(){}isWatching(t){return this.subscribe.includes(t)}}function p(t){return{type:"ADD_TO_LS",data:t}}const f=d("keyBoard-state")||{},g=[{1:{1:{rowIterator:!1,appendHTML:'\n          <div class="_icon-voice" data-functional="Microphone"></div>\n          <div class="circle voice" data-functional="Microphone" id="microphone"></div>\n      ',dataAttributes:[{functional:"Microphone"}],classes:!1,innerText:!1},2:{rowIterator:!1,appendHTML:`\n          <div class="_icon-sound" data-functional="Sound"></div>\n          <div class="circle sound ${f.Sound?"active":""}" data-functional="Sound" id="circle"></div>\n        `,dataAttributes:[{functional:"Sound"}],classes:!1,innerText:!1},3:{rowIterator:!0,keboardRowsValues:[1,2,3,4,5,6,7,8,9,0]},4:{rowIterator:!1,appendHTML:!1,dataAttributes:[{functional:"Backspace"}],classes:["el-shift-backsp","_icon-delete"],innerText:!1}}},{2:{1:{rowIterator:!1,appendHTML:!1,dataAttributes:[{functional:"Tab"}],classes:["el-shift-backsp","_icon-tab"],innerText:!1},2:{rowIterator:!0,keboardRowsValues:{en:["q","w","e","r","t","y","u","i","o","p","[","]"],ru:["й","ц","у","к","е","н","г","ш","щ","з","х","ъ"]}}}},{3:{1:{rowIterator:!1,appendHTML:`\n          <div class="circle capsLock ${f.CapsLock?"active":""}" id="CapsLock"></div>\n        `,dataAttributes:[{functional:"CapsLock"}],classes:["el-caps","_icon-caps"],innerText:!1},2:{rowIterator:!0,keboardRowsValues:{en:["a","s","d","f","g","h","j","k","l",";",":"],ru:["ф","ы","в","а","п","р","о","л","д","ж","э"]}},3:{rowIterator:!1,appendHTML:!1,dataAttributes:[{functional:"Enter"}],classes:["el-enter","_icon-enter"],innerText:!1}}},{4:{1:{rowIterator:!1,appendHTML:!1,dataAttributes:[{functional:"Shift"}],classes:["el-shift-backsp","_icon-shift"],innerText:!1},2:{rowIterator:!0,keboardRowsValues:{en:["z","x","c","v","b","n","m",",",".","?","!","@"],ru:["я","ч","с","м","и","т","ь","б","ю","?","!","@"]}}}},{5:{1:{rowIterator:!1,appendHTML:`\n          <div class="key-bord__el-en ${"en"===f.Lang?"":"paint"}" data-functional="Lang" data-lang="en">en</div>\n          <div class="key-bord__el-slash" data-functional="Lang">/</div>\n          <div class="key-bord__el-ru ${"ru"===f.Lang?"":"paint"}" data-functional="Lang" data-lang="ru">ru</div>\n        `,dataAttributes:[{functional:"Lang"}],classes:["en-ru"],innerText:!1},2:{rowIterator:!1,appendHTML:!1,dataAttributes:[{functional:"Space"}],classes:["el-space"],innerText:" "},3:{rowIterator:!1,appendHTML:!1,dataAttributes:[{functional:"ArrowLeft"}],classes:["_icon-left-arrow"],innerText:!1},4:{rowIterator:!1,appendHTML:!1,dataAttributes:[{functional:"ArrowRight"}],classes:["_icon-right-arrow"],innerText:!1}}}],m={ru:{q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","]":"ъ",a:"ф",s:"ы",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж",":":"э",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","!":"!","?":"?","@":"@"},en:{q:"q",w:"w",e:"e",r:"r",t:"t",y:"y",u:"u",i:"i",o:"o",p:"p","]":"]","[":"[",a:"a",s:"s",d:"d",f:"f",g:"g",h:"h",j:"j",k:"k",l:"l",";":";",":":":",z:"z",x:"x",c:"с",v:"v",b:"b",n:"n",m:"m",",":",",".":".",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","!":"!","?":"?","@":"@"},simbols:{1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"},numbers:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"}};function b(t){let e=t.key;const s={Lang:""};if(" "===e)e="Space";else if(e.charCodeAt()>=65&&e.charCodeAt()<=90&&1===e.length)e=e.toLowerCase(),s.Lang="ru";else if(l(e).charCodeAt()>=1072&&l(e).charCodeAt()<=1103&&1===e.length){const t=Object.entries(m.ru).filter((([t,s])=>{if(l(e)===s)return t})).flat()[0];e=t,s.Lang="en"}const n=a(document).find(`[data-write= "${e||l(e)}"]`),i=a(document).find(`[data-functional= "${e}"]`),r=n||i;return r&&a(r).addClassSetTimeout(["key-shown"],200),s.Lang||1===e.length&&(s.Lang="ru"),s}function S(t,e){!function(t,e,s){if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,s);else if(t.createTextRange){const n=t.createTextRange();n.collapse(!0),n.moveEnd("character",s),n.moveStart("character",e),n.select()}}(t,e,e)}function x(){const t=document.querySelector("#written");return{currentTextarea:t,currentCursorPos:t.selectionStart}}function w(t,e){return!!t.includes(e)}function v(t){return{Enter:"\n",Tab:"\t",Space:" "}[t]}function L(t,e,s){const n=document.querySelector(t);return(s=s.getState())[e]?(n.classList.remove("active"),!1):(n.classList.add("active"),!0)}function k(t,e){let s=t;return(d("keyBoard-state")||{}).CapsLock&&"string"==typeof t&&(s=t.toUpperCase()),`\n    <div class="key-bord__row-el" data-write="${e}" data-voice="write">${s}</div>\n  `}function y(t){const e=t.target.dataset.functional;return!!w(["Enter","Tab","Space"],e)&&v(e)}function T(t,e){const s=t.target.dataset.functional;return!!w(["Lang","CapsLock","Shift","Sound","Backspace"],s)&&function(t,e){e=e.getState();let s="";return"Lang"!==t?(s=!e||!e[t],{[t]:s}):(s="en"===e[t]?"ru":"en",{[t]:`${s}`})}(s,e)}function $(t,e){const s=t.getState();let{Lang:n}=s;console.log(n),e&&(n="en"===n?"ru":"en"),function(t,e){const s="en"===e?"ru":"en",n=document.querySelector(t),i=document.querySelector(`[data-lang="${s}"]`);n.classList.add("paint"),i.classList.remove("paint")}(`[data-lang="${n}"]`,n)}function C(t,e){const n=[];var i,a;i=n,(a=s(659)).keys().forEach(((t,e)=>i[e]=a(t)));const r=function(t,e){return t.map(((t,s)=>({[e[s]]:t})))}(n,["ArrowLeft","ArrowRight","Backspace","CapsLock","Enter","Lang","Microphone","Shift","Sound","Space","Tab","WrittenKey"]);if(!(e=e.getState()).Sound)return;const o=document.createElement("audio"),c=t.target.dataset.write?"WrittenKey":t.target.dataset.functional;o.src=`${function(t,e){return(t=t.map((t=>Object.keys(t).join("")===e?t[e]:""))).join("")}(r,c)}`,o.play(),o.volume=.7}function _(t){document.querySelectorAll("[data-write]").forEach((e=>{const s=d("keyBoard-state"),n=e.getAttribute("data-write");if("CapsLock"===t){const{CapsLock:t}=s,{Lang:i}=s;if(!t&&m[i][n].toUpperCase()){const t=m[i][n].toUpperCase();e.textContent=t}if(t){const t=m[i][n];e.textContent=t}return!1}if("Shift"===t){const{Shift:t}=s,{Lang:i}=s,{CapsLock:a}=s;if(m.simbols[n]){if(!t){const t=m.simbols[n];e.textContent=t}if(t){const t=m.numbers[n];e.textContent=t}}if(m.en[n]&&!m.simbols[n]){if(!t){const t=m[i][n].toUpperCase();e.textContent=t}if(t&&!a){const t=m[i][n];e.textContent=t}}}if("Lang"===t){const{Lang:t}=s,{CapsLock:i}=s,a="ru"===t?"en":"ru";if(i){if(m[a][n].toUpperCase()){const t=m[a][n].toUpperCase();e.textContent=t}}else{const t=m[a][n];e.textContent=t}}}))}class A extends h{static className="key-bord__monic";static initialStyle={widht:o().monicWidth,height:o().monicHeight};constructor(t,e){super(t,{name:"Monitor",listeners:["click","keyup","keydown"],...e})}init(){super.init(),this.textarea=this.$root.find("#written"),this.textarea.focus(),this.textarea.value=this.store.getState().Textarea,this.textarea.scrollTop=this.textarea.scrollHeight,this.$on("klava:clickSimbol",(t=>{this.textarea.focus(),this.pressedWrittenKey(t),this.textarea.focus()})),this.$on("klava:clickUnwrittenSimbol",(()=>{this.textarea.focus(),this.textarea.scrollTop=this.textarea.scrollHeight})),this.$on("klava:clickBackspace",(t=>{this.textarea.focus(),this.addToLS({Textarea:t.Textarea}),this.textarea.value=this.store.getState().Textarea,this.textarea.selectionEnd=t.setSelectionEnd-1})),this.$on("monic:wasKeydown",(t=>{this.addToLS({Textarea:t})})),this.$on("monic:pressedKey",(()=>{document.addEventListener("keydown",(t=>{t.getModifierState("CapsLock")?this.addToLS({CapsLock:!0}):this.addToLS({CapsLock:!1}),t.getModifierState("Shift")?this.addToLS({Shift:!0}):this.addToLS({Shift:!1})})),function(){const t=document.querySelector("#CapsLock"),e=d("keyBoard-state"),{CapsLock:s}=e;s?t.classList.add("active"):t.classList.remove("active")}()})),this.$on("klava:microIsOn",(()=>{this.addToLS({Textarea:this.textarea.value})})),this.$on("klava:ArrowLeftIsOn",(()=>{this.textarea.focus();const t=this.textarea.selectionStart;S(this.textarea,t-1),this.addToLS({setSelectionEnd:t-1})})),this.$on("klava:ArrowRightIsOn",(()=>{this.textarea.focus();const t=this.textarea.selectionStart;S(this.textarea,t+1)}))}toHTML(){return`\n      <div class="monic__inner-screen">\n        <div class="monic__screen" id="monic">\n          <textarea class="key-bord__text" id="written" style="${c({width:o().textareaWidth,height:o().textareaHeight})}"></textarea>\n        </div>\n      </div>\n      <div class="monic__panel">\n        <div class="monic__item">\n          <p class="_icon-keyboard" data-clava=true></p>\n        </div>\n      </div>\n    `}addToLS(t){this.$dispatch(p({value:t}))}pressedWrittenKey(t){const e=function(t,e){let s;if(t.getState().setSelectionEnd){const n=t.getState().setSelectionEnd;return s=x().currentTextarea.value.slice(0,n)+e+x().currentTextarea.value.slice(n),console.log(n),{Textarea:s,setSelectionEnd:n}}const n=x().currentTextarea.selectionStart;return s=x().currentTextarea.value+e,{Textarea:s,setSelectionEnd:n}}(this.store,t);this.addToLS({Textarea:e.Textarea}),this.addToLS({setSelectionEnd:e.setSelectionEnd}),this.textarea.value=this.store.getState().Textarea,this.textarea.selectionEnd=this.store.getState().setSelectionEnd+1,this.addToLS({setSelectionEnd:e.setSelectionEnd+1})}onClick(t){if(t.target.dataset.clava){a(t.target).toggleClass(["inactive"]),this.$emit("monic:clickKlavaHider"),this.textarea.focus()}}onKeydown(t){this.$emit("monic:pressedKey");"Tab"===t.key&&(t.preventDefault(),document.onkeyup=()=>{document.onkeyup=null,this.$emit("klava:clickSimbol",v("Tab"))}),b(t),b(t).Lang&&(this.addToLS({lastInputWasThroughKeydown:!0}),this.addToLS(b(t)),$(this.store),_("Lang")),this.addToLS({setSelectionEnd:x().currentCursorPos})}onKeyup(){this.$emit("monic:wasKeydown",this.textarea.value)}}let E;window.SpeechRecognition=window.webkitSpeechRecognition||window.SpeechRecognition;const H=new window.SpeechRecognition;function M(){E=!1}H.continuous=!0,M(),H.onend=()=>{},H.onresult=function(t){const e=document.querySelector("#written");for(let s=t.resultIndex;s<t.results.length;++s)t.results[s].isFinal&&(e.value+=t.results[s][0].transcript)};class I extends h{constructor(...t){super(...t)}get template(){return JSON.stringify(this.state,null,2)}initState(t={}){this.state={...t}}setState(t){this.state={...this.state,...t},this.$root.html(this.template)}}const O=d("keyBoard-state")||{};class R{constructor(t){this.indexData=0,this.indexDataAtribute=0,this.data=Array.isArray(t)?t:t[O.Lang]||t.en,this.dataAttribute=Array.isArray(t)?t:t.en}[Symbol.iterator](){return{next:()=>this.indexData<this.data.length?{value:k(this.data[this.indexData++],this.dataAttribute[this.indexDataAtribute++]),done:!1}:(this.indexData=0,this.indexDataAtribute=0,{done:!0,value:void 0})}}}const j=function(t,e={}){let s=t({...e},{type:"__INIT__"}),n=[];return{subscribe(t){return n.push(t),{unsubscribe(){n=n.filter((e=>e!==t))}}},dispatch(e){s=t(s,e),n.forEach((t=>t(s)))},getState(){return JSON.parse(JSON.stringify(s))}}}((function(t,e){if("ADD_TO_LS"===e.type){const s=Object.keys(e.data.value).join(""),n=e.data.value[s];return{...t,[s]:n}}return t}),d("keyBoard-state")?d("keyBoard-state"):{Lang:"en",CapsLock:!1,Sound:!1,Shift:!1,Textarea:"",Microphone:!1,setSelectionEnd:""});j.subscribe((t=>{d("keyBoard-state",t)}));new class{constructor(t,e={}){this.$el=a(t),this.components=e.components||[],this.emitter=new r,this.store=e.store,this.subscriber=new u(this.store)}getRoot(){const t=a.create("div","key-bord__body"),e={emitter:this.emitter,store:this.store};return this.components=this.components.map((s=>{const n=a.create("div",s.className);n.css(s.initialStyle),n.addClass(s.additionalClasses);const i=new s(n,e);return n.html(i.toHTML()),t.append(n),i})),t}render(){this.$el.append(this.getRoot()),this.subscriber.subscribeComponents(this.components),this.components.forEach((t=>t.init()))}}("#keyboard",{components:[A,class extends I{static className="key-bord__clava";static additionalClasses=["comeback"];constructor(t,e){super(t,{name:"Klava",listeners:["click"],...e})}prepare(){this.addToLS({Shift:!1,Lang:"en"})}init(){super.init(),this.$on("monic:clickKlavaHider",(()=>{!function(){const t=a(document.querySelector(".key-bord__clava")),e=a(document.querySelector(".key-bord__monic")),s=a(document.querySelector(".key-bord__text"));t.toggleClass(["comeback"]),t.toggleClass(["hidden"]),t.hasClass(["hidden"])?(e.css({width:`${window.innerWidth}px`,height:`${window.innerHeight}px`,transition:"all 0.3s ease 0s",margin:"0px"}),s.css({width:window.innerWidth-30+"px",height:window.innerHeight-100+"px",transition:"all 0.3s ease 0s"}),t.css({display:"none"})):t.hasClass(["comeback"])&&(e.css({width:`${o().monicWidth}`,height:`${o().monicHeight}`,transition:"all 0.3s ease 0s","margin-bottom":"16px"}),s.css({width:`${o().textareaWidth}`,height:`${o().textareaHeight}`,transition:"all 0.3s ease 0s"}),t.css({display:"block"}))}()}))}async toHTML(){try{this.$root=await(t=this.$root,new Promise((e=>{for(let e=0;e<g.length;e++){const s=a.create("div","key-bord__row");Object.values(g[e][e+1]).forEach((t=>{if(t.rowIterator){const e=new R(t.keboardRowsValues);for(const t of e)s.$el.insertAdjacentHTML("beforeend",t)}else{const e=a.create("div","key-bord__row-el");e.addClass(t.classes).textContent(t.innerText).addDataAttribute(t.dataAttributes),e.html(t.appendHTML),s.append(e)}})),t.append(s)}e(t)}))),$(this.store,!0)}catch{console.warn("Error in painting LangBTN on initial state")}var t}addToLS(t){this.$dispatch(p({value:t}))}onClick(t){t.preventDefault(),this.addToLS({setSelectionEnd:x().currentCursorPos});if(this.store.getState().lastInputWasThroughKeydown){const t="ru"===this.store.getState().Lang?{Lang:"en"}:{Lang:"ru"};this.addToLS(t),this.addToLS({lastInputWasThroughKeydown:!1})}const e=t.target.dataset.write,s=t.target.dataset.functional;if(e){const e=a(t.target).innerText();this.$emit("klava:clickSimbol",e),this.store.getState().Shift&&(_("Shift"),this.addToLS({Shift:!1}))}else if(y(t))this.$emit("klava:clickSimbol",y(t));else if(T(t,this.store)){const e=t.target.dataset.functional,s=T(t,this.store);"Backspace"===e?this.$emit("klava:clickBackspace",function(){const t=x();return{Textarea:t.currentTextarea.value.slice(0,t.currentCursorPos-1)+t.currentTextarea.value.slice(t.currentCursorPos),setSelectionEnd:t.currentCursorPos}}()):"CapsLock"===e?(!function(t){L("#CapsLock","CapsLock",t)}(this.store),_("CapsLock")):"Shift"===e?_("Shift"):"Lang"===e?($(this.store),_("Lang")):"Sound"===e&&function(t){L("#circle","Sound",t)}(this.store),this.$emit("klava:clickUnwrittenSimbol"),this.addToLS(s)}"ArrowLeft"===s&&(t.preventDefault(),this.$emit("klava:ArrowLeftIsOn")),"ArrowRight"===s&&(t.preventDefault(),this.$emit("klava:ArrowRightIsOn")),function(t){const e=Math.max(t.target.getBoundingClientRect().width,t.target.getBoundingClientRect().height),s=c({width:`${e}px`,height:`${e}px`,left:t.pageX-t.target.getBoundingClientRect().left-e/2+"px",top:t.pageY-t.target.getBoundingClientRect().top-e/2+"px"}),n=t.target.dataset,i=`\n    <div class="animation-circle" style=${s}></div>\n    `;if(n.write){const e=a(t.target).innerText(),s=a(t.target).html(i);s.append(e);const n=s.children(0,s);setTimeout((()=>{n.remove()}),250)}else if(n.functional){const e=t.target;e.insertAdjacentHTML("beforeend",i),setTimeout((()=>{e.removeChild(e.lastChild.previousSibling)}),250)}}(t),C(t,this.store)}}],store:j}).render()}()}();